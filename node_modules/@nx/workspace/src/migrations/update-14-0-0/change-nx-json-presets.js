"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.changeNxJsonPresets = void 0;
const devkit_1 = require("@nx/devkit");
async function changeNxJsonPresets(tree) {
    const nxJson = (0, devkit_1.readNxJson)(tree);
    const replacements = {
        '@nrwl/workspace/presets/npm.json': 'nx/presets/npm.json',
        '@nrwl/workspace/presets/core.json': 'nx/presets/core.json',
    };
    if (nxJson.extends && replacements[nxJson.extends]) {
        (0, devkit_1.updateNxJson)(tree, {
            ...nxJson,
            extends: replacements[nxJson.extends],
        });
    }
    await (0, devkit_1.formatFiles)(tree);
}
exports.changeNxJsonPresets = changeNxJsonPresets;
exports.default = changeNxJsonPresets;
