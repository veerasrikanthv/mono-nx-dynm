const a15_0x76b8=['defineProperty','readFileSync','length','addDependencies','../../../utilities/nx-imports-light','/nx.json','toString','add','target','../../../utilities/nx-imports','push','strip-json-comments','createTaskGraphCompat','strictlyOrderedTargets','createTaskGraph','tasks','find','addTaskToGraph','build','addTaskDependencies','keys','dependencies','targetDependencies','project','defaultTargetDependencies','projects','findTask','parse','TaskGraphCreator','filter'];(function(_0x1384a7,_0x76b85e){const _0x4b7cad=function(_0x263bdc){while(--_0x263bdc){_0x1384a7['push'](_0x1384a7['shift']());}};_0x4b7cad(++_0x76b85e);}(a15_0x76b8,0xb6));const a15_0x4b7c=function(_0x1384a7,_0x76b85e){_0x1384a7=_0x1384a7-0x0;let _0x4b7cad=a15_0x76b8[_0x1384a7];return _0x4b7cad;};'use strict';Object[a15_0x4b7c('0x1c')](exports,'__esModule',{'value':!![]});exports['TaskGraphCreator']=exports[a15_0x4b7c('0xa')]=void 0x0;const fs_1=require('fs');const stripJsonComments=require(a15_0x4b7c('0x9'));const {workspaceRoot}=require(a15_0x4b7c('0x2'));const {getDependencyConfigs}=require(a15_0x4b7c('0x7'));function createTaskGraphCompat(_0x4b3ac7,_0x5c563a,_0x600f7){const _0x5e57c0=JSON[a15_0x4b7c('0x19')](stripJsonComments((0x0,fs_1[a15_0x4b7c('0x1d')])(workspaceRoot+a15_0x4b7c('0x3'))[a15_0x4b7c('0x4')]()));return new TaskGraphCreator(_0x5c563a,getDefaultDependencyConfigs(_0x5e57c0,_0x4b3ac7))[a15_0x4b7c('0xc')](_0x600f7);}exports[a15_0x4b7c('0xa')]=createTaskGraphCompat;function getDefaultDependencyConfigs(_0x554b17,_0x53687b){var _0x56362c,_0x84ce91;const _0x102d1f=(_0x56362c=_0x554b17[a15_0x4b7c('0x14')])!==null&&_0x56362c!==void 0x0?_0x56362c:{};const _0x4a47cf=_0x53687b?(_0x84ce91=_0x53687b[a15_0x4b7c('0xb')])!==null&&_0x84ce91!==void 0x0?_0x84ce91:[a15_0x4b7c('0x10')]:[];for(const _0x12b7c2 of _0x4a47cf){_0x102d1f[_0x12b7c2]=_0x102d1f[_0x12b7c2]||[];_0x102d1f[_0x12b7c2][a15_0x4b7c('0x8')]({'target':_0x12b7c2,'projects':a15_0x4b7c('0x13')});}return _0x102d1f;}class TaskGraphCreator{constructor(_0x1ea6cf,_0x58adc1){this['projectGraph']=_0x1ea6cf;this['defaultTargetDependencies']=_0x58adc1;}['createTaskGraph'](_0x16850e){const _0x5b554e={'roots':[],'tasks':{},'dependencies':{}};for(const _0x4a03c5 of _0x16850e){this['addTaskToGraph'](_0x4a03c5,_0x5b554e);const _0x17c9cb=getDependencyConfigs(_0x4a03c5[a15_0x4b7c('0x6')],this[a15_0x4b7c('0x16')],this['projectGraph']);if(!_0x17c9cb){continue;}this['addTaskDependencies'](_0x4a03c5,_0x17c9cb,_0x16850e,_0x5b554e);}_0x5b554e['roots']=Object[a15_0x4b7c('0x12')](_0x5b554e[a15_0x4b7c('0x13')])[a15_0x4b7c('0x1b')](_0x1d9518=>_0x5b554e[a15_0x4b7c('0x13')][_0x1d9518][a15_0x4b7c('0x0')]===0x0);return _0x5b554e;}[a15_0x4b7c('0x11')](_0x21afa6,_0x9b05d,_0x9728e4,_0x1c05a7){for(const _0x5010e7 of _0x9b05d){if(_0x5010e7[a15_0x4b7c('0x17')]==='self'){for(const _0x650e37 of _0x9728e4){if(_0x650e37[a15_0x4b7c('0x6')][a15_0x4b7c('0x15')]===_0x21afa6['target'][a15_0x4b7c('0x15')]&&_0x650e37[a15_0x4b7c('0x6')][a15_0x4b7c('0x6')]===_0x5010e7['target']){_0x1c05a7[a15_0x4b7c('0x13')][_0x21afa6['id']][a15_0x4b7c('0x8')](_0x650e37['id']);}}}else if(_0x5010e7[a15_0x4b7c('0x17')]===a15_0x4b7c('0x13')){const _0x58c501=new Set();this[a15_0x4b7c('0x1')](_0x21afa6['target'][a15_0x4b7c('0x15')],_0x5010e7[a15_0x4b7c('0x6')],_0x9728e4,_0x1c05a7,_0x21afa6['id'],_0x58c501);}}}[a15_0x4b7c('0x1')](_0x16a9b3,_0xffb363,_0x172a21,_0x23e6d2,_0x3c07de,_0x1e31d6){_0x1e31d6[a15_0x4b7c('0x5')](_0x16a9b3);const _0x551628=this['projectGraph'][a15_0x4b7c('0x13')][_0x16a9b3];if(_0x551628){const _0x448611=_0x551628['map'](_0x4a3600=>_0x4a3600[a15_0x4b7c('0x6')]);for(const _0x130aac of _0x448611){if(_0x1e31d6['has'](_0x130aac)){continue;}const _0x18cf32=this[a15_0x4b7c('0x18')]({'project':_0x130aac,'target':_0xffb363},_0x172a21);if(_0x18cf32){if(_0x23e6d2[a15_0x4b7c('0x13')][_0x3c07de]['indexOf'](_0x18cf32['id'])===-0x1){_0x23e6d2['dependencies'][_0x3c07de][a15_0x4b7c('0x8')](_0x18cf32['id']);}}else{this['addDependencies'](_0x130aac,_0xffb363,_0x172a21,_0x23e6d2,_0x3c07de,_0x1e31d6);}}}}[a15_0x4b7c('0x18')]({project,target},_0x34cdd1){return _0x34cdd1[a15_0x4b7c('0xe')](_0x523645=>_0x523645[a15_0x4b7c('0x6')][a15_0x4b7c('0x15')]===project&&_0x523645['target'][a15_0x4b7c('0x6')]===target);}[a15_0x4b7c('0xf')](_0x295d7d,_0x2eaad9){_0x2eaad9[a15_0x4b7c('0xd')][_0x295d7d['id']]=_0x295d7d;_0x2eaad9['dependencies'][_0x295d7d['id']]=[];}}exports[a15_0x4b7c('0x1a')]=TaskGraphCreator;